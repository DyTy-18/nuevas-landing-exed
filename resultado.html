<!doctype html>
<html lang="es" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Unifranz EXED | Reporte Estratégico</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://player.vimeo.com/api/player.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Archivo:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />

    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              neon: "#71dade",
              "neon-dark": "#0097a7",
              "level-1": "#e0f7fa",
              "level-2": "#b2ebf2",
              "level-3": "#71dade",
              "level-4": "#4cb5c5",
              "level-5": "#0097a7",
              "expert-neon": "#16dd95",
              "expert-dark": "#131313",
              void: "#ffffff",
              surface: "#f8f9fa",
              "text-main": "#18181b",
              "text-muted": "#52525b",
            },
            fontFamily: { sans: ['"Archivo"', "sans-serif"] },
          },
        },
      };
    </script>

    <style>
      /* Loader con cortina hacia arriba */
      #loader-wrapper {
        position: fixed;
        inset: 0;
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
        background: #ffffff;
        transition: transform 0.8s cubic-bezier(0.77, 0, 0.175, 1);
        transform: translateY(0);
      }
      #loader-wrapper.loader-hidden {
        transform: translateY(-100%);
      }

      .throbber-svg {
        width: 120px;
        height: auto;
      }
      .throbber-gris {
        fill: #58595b;
      }
      .throbber-rojo {
        fill: #a42328;
        animation: energy-flow 1.5s ease-in-out infinite;
      }
      @keyframes energy-flow {
        0%,
        100% {
          fill: #a42328;
        }
        50% {
          fill: #ff4d4d;
        }
      }
      #barra-superior {
        animation-delay: 0s;
      }
      #barra-media {
        animation-delay: 0.2s;
      }
      #barra-inferior {
        animation-delay: 0.4s;
      }

      /* Revelado de secciones */
      .reveal-section {
        opacity: 0;
        transform: translateY(24px);
        transition:
          opacity 0.9s ease,
          transform 0.9s ease;
      }
      .reveal-section.active {
        opacity: 1;
        transform: translateY(0);
      }

      body {
        background: #ffffff;
        color: #18181b;
        font-family: "Archivo", sans-serif;
        overflow-x: hidden;
      }

      .tech-card {
        background: white;
        border: 1px solid rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease;
      }
      .tech-card:hover {
        border-color: #71dade40;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.06);
      }

      .progress-ring__circle {
        transition:
          stroke-dashoffset 1s ease-in-out,
          stroke 0.4s ease;
        transform: rotate(-90deg);
        transform-origin: 50% 50%;
      }

      .dots-bg {
        background-image: radial-gradient(#16dd95 1.5px, transparent 1.5px);
        background-size: 32px 32px;
        opacity: 0.15;
      }

      /* Controles de video personalizados */
      .video-wrapper {
        position: relative;
        width: 100%;
        padding-top: 56.25%;
        background: #000;
      }
      .video-wrapper iframe {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
      }
      .video-controls-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(
          to top,
          rgba(0, 0, 0, 0.85) 0%,
          transparent 40%,
          transparent 60%,
          rgba(0, 0, 0, 0.6) 100%
        );
        opacity: 0;
        transition: opacity 0.3s;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        padding: 16px;
      }
      .video-wrapper:hover .video-controls-overlay,
      .video-wrapper:active .video-controls-overlay {
        opacity: 1;
      }

      .progress-bar-container {
        width: 100%;
        height: 6px;
        background: rgba(255, 255, 255, 0.25);
        cursor: pointer;
        margin-bottom: 12px;
        border-radius: 3px;
        overflow: hidden;
      }
      .progress-bar-fill {
        height: 100%;
        background: #16dd95;
        width: 0;
        transition: width 0.12s linear;
      }
    </style>
  </head>
  <body>
    <!-- Loader (cortina hacia arriba) -->
    <div id="loader-wrapper">
      <svg
        class="throbber-svg"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 425.4 471.06"
      >
        <g>
          <rect
            id="barra-superior"
            class="throbber-rojo"
            x="255.11"
            y="-67.57"
            width="102.72"
            height="237.85"
            transform="translate(357.83 -255.11) rotate(90)"
          />
          <rect
            id="barra-media"
            class="throbber-rojo"
            x="88.47"
            y="95.7"
            width="102.72"
            height="279.67"
            transform="translate(375.36 95.7) rotate(90)"
          />
          <rect
            id="barra-inferior"
            class="throbber-rojo"
            x="161.34"
            y="207"
            width="102.72"
            height="425.4"
            transform="translate(632.4 207) rotate(90)"
          />
          <rect class="throbber-gris" width="102.72" height="102.72" />
        </g>
      </svg>
    </div>

    <!-- Panel de simulación (solo visible en desktop para testing) -->
    <!-- <div
      id="test-control"
      class="fixed bottom-6 right-6 z-50 bg-white p-4 border border-black shadow-2xl hidden lg:flex flex-col gap-3 rounded-sm"
    >
      <span class="text-[9px] font-bold uppercase tracking-widest text-gray-500"
        >Simulador (debug)</span
      >
      <input
        type="range"
        id="score-range"
        min="0"
        max="25"
        value="9"
        class="w-48 accent-neon cursor-pointer"
      />
      <div class="text-[10px] font-bold uppercase">
        Puntaje: <span id="range-val" class="text-neon-dark">9</span>
      </div>
    </div> -->

    <!-- Header fijo -->
    <header
      class="fixed top-0 left-0 right-0 z-40 bg-white/95 backdrop-blur-md border-b border-black/5"
    >
      <div
        class="max-w-7xl mx-auto px-4 md:px-6 h-20 md:h-24 flex justify-between items-center"
      >
        <div class="flex items-center gap-4 md:gap-6">
          <img
            src="https://lwfiles.mycourse.app/642b6d2acebaa1e2ab377d62-public/fe9b6c34b868242ab32dcf945a2c0c26.png"
            alt="Unifranz"
            class="h-9 md:h-12 w-auto object-contain"
          />
          <div class="hidden sm:block h-8 w-px bg-black/10"></div>
          <div class="flex flex-col">
            <span class="text-[11px] uppercase tracking-tight text-gray-500"
              >Resultado para</span
            >
            <span
              id="user-name-display"
              class="text-sm md:text-base font-bold text-neon-dark"
              >...</span
            >
          </div>
        </div>
        <a
          href="#cta"
          class="hidden md:block text-[10px] font-bold uppercase tracking-widest border border-black/10 px-5 py-3 hover:bg-black hover:text-white transition-all rounded-sm"
          >AGENDAR CITA</a
        >
      </div>
    </header>

    <!-- HERO - Diagnóstico -->
    <section
      id="hero-section"
      class="reveal-section pt-28 md:pt-40 pb-16 md:pb-24 px-4 md:px-6 border-b border-gray-200 bg-gray-50/40 relative"
    >
      <div
        class="absolute inset-0 bg-grid-fixed opacity-30 pointer-events-none"
      ></div>
      <div class="max-w-7xl mx-auto relative z-10">
        <div class="grid lg:grid-cols-12 gap-8 lg:gap-12">
          <!-- Tarjeta de puntaje -->
          <div class="lg:col-span-4">
            <div
              class="tech-card p-6 md:p-10 h-full flex flex-col items-center justify-center relative overflow-hidden rounded-sm min-h-[420px] md:min-h-[520px]"
            >
              <div
                id="card-glow"
                class="absolute -top-20 -right-20 w-80 h-80 bg-level-1 rounded-full blur-3xl opacity-60 pointer-events-none transition-all duration-700"
              ></div>
              <div class="relative z-10 text-center">
                <span
                  class="text-[10px] md:text-xs font-bold uppercase tracking-widest text-gray-500 mb-6 block"
                  >Madurez Digital</span
                >
                <div class="relative w-48 h-48 md:w-64 md:h-64 mx-auto mb-6">
                  <svg class="w-full h-full" viewBox="0 0 160 160">
                    <circle
                      cx="80"
                      cy="80"
                      r="70"
                      stroke="#e5e7eb"
                      stroke-width="5"
                      fill="none"
                    />
                    <circle
                      id="score-circle"
                      class="progress-ring__circle"
                      cx="80"
                      cy="80"
                      r="70"
                      stroke="#71dade"
                      stroke-width="6"
                      fill="none"
                      stroke-linecap="round"
                      stroke-dasharray="440"
                      stroke-dashoffset="440"
                    />
                  </svg>
                  <div
                    class="absolute inset-0 flex flex-col items-center justify-center"
                  >
                    <span
                      id="score-display"
                      class="text-6xl md:text-8xl font-bold text-black tracking-tighter"
                      >0</span
                    >
                    <span class="text-xs md:text-sm text-gray-500 mt-1"
                      >/ 25</span
                    >
                  </div>
                </div>
                <div
                  id="level-badge"
                  class="inline-block px-6 py-2 bg-level-1 text-level-5 text-xs font-bold uppercase tracking-widest border border-level-2/50 rounded-sm transition-all duration-500"
                >
                  Cargando...
                </div>
              </div>
            </div>
          </div>

          <!-- Contenido principal -->
          <div class="lg:col-span-8 flex flex-col gap-8">
            <div class="pb-6 border-b border-gray-200">
              <span
                class="text-[10px] font-bold uppercase tracking-widest text-gray-500"
                >Diagnóstico Ejecutivo</span
              >
              <h1
                id="level-title"
                class="text-3xl md:text-5xl font-light mt-2 leading-tight"
              ></h1>
            </div>

            <div class="grid md:grid-cols-2 gap-6 md:gap-10">
              <div>
                <h4
                  class="text-xs font-bold uppercase tracking-widest mb-2 flex items-center gap-2"
                >
                  <span class="w-5 h-px bg-neon"></span> Situación actual
                </h4>
                <p
                  id="level-desc"
                  class="text-sm md:text-base text-gray-600 leading-relaxed"
                ></p>
              </div>
              <div>
                <h4
                  class="text-xs font-bold uppercase tracking-widest mb-2 flex items-center gap-2"
                >
                  <span class="w-5 h-px bg-black"></span> Por qué ahora
                </h4>
                <p
                  id="level-why"
                  class="text-sm md:text-base text-gray-600 leading-relaxed"
                ></p>
              </div>
            </div>

            <div
              id="project-block"
              class="tech-card p-6 md:p-10 rounded-sm bg-white border border-gray-200"
            >
              <span
                class="text-xs uppercase tracking-widest text-neon-dark font-bold block mb-4 pb-2 border-b border-gray-200"
                >Proyecto recomendado</span
              >
              <h3
                id="project-title"
                class="text-xl md:text-2xl font-bold mb-3"
              ></h3>
              <p
                id="project-detail"
                class="text-sm md:text-base text-gray-600 mb-6 leading-relaxed"
              ></p>
              <div
                id="level-fact"
                class="bg-gray-50 p-4 text-sm italic border-l-4 border-neon mb-6"
              ></div>
              <div
                class="flex flex-col md:flex-row justify-between items-start md:items-center gap-6 pt-6 border-t border-gray-200"
              >
                <div>
                  <span
                    class="text-xs uppercase tracking-widest text-gray-500 block mb-1"
                    >Próximo paso</span
                  >
                  <p id="level-next" class="text-sm font-medium"></p>
                </div>
                <a
                  href="#cta"
                  class="w-full md:w-auto text-center px-10 py-4 bg-black text-white text-xs font-bold uppercase tracking-widest hover:bg-neon hover:text-black transition-all rounded-sm shadow-md"
                  >AGENDAR CITA</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Sección Experta (dark) -->
    <section
      class="py-20 md:py-32 bg-expert-dark text-white relative overflow-hidden"
    >
      <div class="absolute inset-0 dots-bg pointer-events-none"></div>
      <div class="max-w-7xl mx-auto px-6 relative z-10">
        <div class="grid lg:grid-cols-12 gap-12 items-center">
          <div class="lg:col-span-5">
            <div
              class="relative aspect-[4/5] overflow-hidden border border-white/10 group max-w-md mx-auto lg:max-w-none"
            >
              <img
                src="https://lwfiles.mycourse.app/642b6d2acebaa1e2ab377d62-public/e627f8e7982907ed650e22e58e919309.png"
                class="w-full h-full object-cover object-top grayscale group-hover:grayscale-0 group-hover:scale-105 transition-all duration-1000"
                alt="Elisa Martín Garijo"
              />
            </div>
          </div>
          <div class="lg:col-span-7">
            <span
              class="inline-block py-1 px-4 border border-expert-neon text-expert-neon text-xs font-bold uppercase tracking-widest mb-6"
              >Nuestra Experta</span
            >
            <h2 class="text-5xl md:text-7xl font-light leading-none mb-4">
              Elisa Martín<br class="hidden md:block" />
              <span class="font-bold">Garijo</span>
            </h2>
            <p class="text-xl text-expert-neon font-medium mb-8">
              IA aplicada a decisiones clínicas y gestión sanitaria real
            </p>
            <div
              class="space-y-5 text-base md:text-lg text-gray-300 border-l-4 border-expert-neon pl-6 md:pl-8"
            >
              <p>
                Matemática y referente europea en IA aplicada a salud. Su
                trabajo se centra en transformar tecnología avanzada en
                soluciones prácticas dentro de entornos clínicos reales.
              </p>
              <p>
                Tras liderar innovación e IA en IBM Europa, hoy diseña sistemas
                de soporte a la decisión donde el error no es una opción.
              </p>
            </div>
            <button
              onclick="openModal()"
              class="mt-10 flex items-center gap-5 group"
            >
              <div
                class="w-16 h-16 border-2 border-expert-neon flex items-center justify-center group-hover:bg-expert-neon group-hover:text-black transition-all rounded-sm"
              >
                <svg
                  class="w-7 h-7 ml-1"
                  fill="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path d="M8 5v14l11-7z" />
                </svg>
              </div>
              <span
                class="text-sm font-bold uppercase tracking-widest group-hover:text-expert-neon transition-colors"
                >Ver introducción de la experta</span
              >
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA final -->
    <section
      id="cta"
      class="py-32 md:py-40 bg-gray-50 border-t border-gray-200 text-center px-6"
    >
      <div class="max-w-3xl mx-auto">
        <h2 class="text-4xl md:text-6xl font-light mb-6 md:mb-8 leading-tight">
          Cada mes que no actúas,<br /><span class="font-bold"
            >el costo sigue creciendo.</span
          >
        </h2>
        <p
          class="text-gray-600 text-lg md:text-xl font-light mb-10 md:mb-12 max-w-2xl mx-auto"
        >
          Si no implementas IA ahora, pierdes la ventana presupuestaria y
          mantienes presión operativa. Actuar hoy es dejar de perder.
        </p>
        <a
          href="#"
          class="inline-block w-full md:w-auto px-16 py-6 bg-black text-white font-bold text-sm uppercase tracking-widest hover:bg-neon hover:text-black transition-all rounded-sm shadow-2xl"
          >AGENDAR CITA</a
        >
      </div>
    </section>

    <footer class="py-12 bg-white text-center border-t border-gray-200">
      <p
        class="text-xs font-bold uppercase tracking-widest text-gray-500 opacity-70"
      >
        © 2026 Unifranz Executive Education — Health Intelligence
      </p>
    </footer>

    <!-- Modal Video con controles personalizados -->
    <div
      id="videoModal"
      class="fixed inset-0 z-[100] hidden flex items-center justify-center bg-black/95 backdrop-blur-md px-4"
    >
      <div
        class="relative w-full max-w-5xl bg-black shadow-2xl overflow-hidden rounded-sm border border-white/10"
      >
        <button
          onclick="closeModal()"
          class="absolute top-4 right-6 z-50 text-white text-3xl hover:text-neon transition-colors"
        >
          ×
        </button>

        <div class="video-wrapper" id="video-wrapper">
          <div id="videoContainer"></div>

          <div class="video-controls-overlay" id="custom-controls">
            <div class="progress-bar-container" id="progress-container">
              <div class="progress-bar-fill" id="progress-fill"></div>
            </div>

            <div class="flex items-center justify-between">
              <div class="flex items-center gap-6">
                <button
                  id="play-pause-btn"
                  class="text-white hover:text-expert-neon text-2xl"
                >
                  <svg
                    id="play-icon"
                    class="w-8 h-8"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path d="M8 5v14l11-7z" />
                  </svg>
                  <svg
                    id="pause-icon"
                    class="w-8 h-8 hidden"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
                  </svg>
                </button>
                <span class="text-sm font-mono text-white/80"
                  ><span id="current-time">0:00</span> /
                  <span id="duration-time">0:00</span></span
                >
              </div>

              <div class="flex items-center gap-6">
                <button id="mute-btn" class="text-white hover:text-expert-neon">
                  <svg
                    id="vol-on"
                    class="w-7 h-7"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"
                    />
                  </svg>
                  <svg
                    id="vol-off"
                    class="w-7 h-7 hidden"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"
                    />
                  </svg>
                </button>
                <button
                  id="fullscreen-btn"
                  class="text-white hover:text-expert-neon"
                >
                  <svg
                    class="w-7 h-7"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"
                    />
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // ──────────────────────────────────────────────
      // 1. Loader (cortina hacia arriba)
      // ──────────────────────────────────────────────
      window.addEventListener("load", () => {
        setTimeout(() => {
          document
            .getElementById("loader-wrapper")
            .classList.add("loader-hidden");
          document
            .querySelectorAll(".reveal-section")
            .forEach((el) => el.classList.add("active"));
        }, 1800);
      });

      // ──────────────────────────────────────────────
      // 2. Niveles (misma lógica que antes)
      // ──────────────────────────────────────────────
      const levels = {
        inicial: {
          label: "Nivel INICIAL",
          title: "Ordenar antes de automatizar",
          desc: "Hoy te toca hacer milagros con información fragmentada: planillas, sistemas aislados, versiones distintas del mismo dato. Esa falta de orden te genera frustración, te quita tiempo, complica cualquier decisión.",
          why: "Si esta base no se define en el primer trimestre (Q1), el resto de iniciativas anuales quedarán en el aire y sin datos sólidos no tendrás respaldo para tus stakeholder.",
          project: "Agente de IA para estructuración de información operativa",
          detail:
            "Un agente que te ayuda a unificar datos clave (pacientes, citas, procesos), además de dejar una base confiable para decidir sin discutir números.",
          fact: "Cuando tus datos no son confiables, tus decisiones tampoco lo son. Ordenar ahora es el primer paso para sostenerse ante dirección.",
          next: "Agenda una entrevista con nuestro asesor de desarrollo de proyectos y obtén un roadmap defendible para ejecutar este trimestre.",
          color: "#71dade",
          score: 9,
        },
        basico: {
          label: "Nivel BÁSICO",
          title: "Reducir fricción y recuperar valor",
          desc: "La operación se desarrolla correctamente, pero tú ves el desgaste: agendas desordenadas, inasistencias, reprogramaciones, llamadas repetidas. Eso se traduce en pérdidas que casi nunca aparecen en un reporte, pero tú las sientes cada semana.",
          why: "En promedio, 1 de cada 4 pacientes no asiste a su cita. Si no lo corriges este problema en el trimestre, pierdes horas clínicas cada semana y aumentas el retrabajo del equipo.",
          project: "Optimización inteligente de agenda",
          detail:
            "IA para predecir inasistencias, disparar recordatorios inteligentes (SMS/WhatsApp/call), priorizar confirmaciones, además de reorganizar turnos con reglas simples.",
          fact: "Dato: Recuperar ingresos perdidos por ausentismo es la forma más rápida de demostrar ROI en salud.",
          next: "Agenda una entrevista y obtén el inicio de un roadmap de impacto rápido para reducir no-shows y mejorar la ocupación.",
          color: "#71dade",
          score: 14,
        },
        intermedio: {
          label: "Nivel INTERMEDIO",
          title: "IA donde ya hay datos",
          desc: "Tú ya tienes datos, tienes volumen, tienes presión por productividad. El problema no es recolectar, sino priorizar lo correcto para que el servicio responda más rápido sin exigir más horas al equipo.",
          why: "Cuando integras IA de priorización en el flujo, puedes recortar tiempos de respuesta de forma tangible.",
          project: "IA para priorización clínica y aceleración diagnóstica",
          detail:
            "IA aplicada a ordenar urgencias, alertar casos críticos, acelerar lecturas iniciales, reducir tiempos de entrega, sin cambiar tu estructura actual.",
          fact: "Eficiencia: Si no lo defines este trimestre (Q1), seguirás resolviendo problemas día a día sin lograr una mejora estable.",
          next: "Agenda una entrevista y obtienes el inicio de tu roadmap aplicado para priorización con IA y métricas claras.",
          color: "#71dade",
          score: 18,
        },
        avanzado: {
          label: "Nivel AVANZADO",
          title: "Resolver el gran dolor operativo",
          desc: "Tú lo ves directo: la carga administrativa se come el día, el equipo se desgasta, la coordinación entre áreas se vuelve fricción constante. No es “falta de ganas”, es exceso de tareas que drenan capacidad clínica.",
          why: "La carga documental es enorme. Si no intervienes en el primer trimestre (Q1), el desgaste se consolidará.",
          project: "Reducción de carga administrativa clínica con IA",
          detail:
            "IA para documentación, validaciones, extracción de datos, flujos entre áreas clínicas–administrativas, reduciendo reprocesos, tiempos muertos.",
          fact: "Prevención: Evita el aumento de riesgo de fuga de talento y baja de calidad estabilizando la operación con IA.",
          next: "Agenda una entrevista y descubre como iniciar un roadmap realista para liberar tiempo clínico con IA y sostener al equipo.",
          color: "#0097a7",
          score: 22,
        },
        lider: {
          label: "Nivel LÍDER",
          title: "IA como ventaja estratégica",
          desc: "Decides sobre riesgo y costos a gran escala. Necesitas IA para anticipar escenarios y sostener decisiones con datos confiables.",
          why: "La presión sobre el personal ya es alta. Definir esto en Q1 te permite actuar antes de que el desgaste escale.",
          project: "Vigilancia, alerta temprana y soporte a decisión con IA",
          detail:
            "IA para detectar riesgos de forma temprana, estratificar población, identificar patrones críticos y apoyar decisiones de alto impacto antes de que los problemas escalen.",
          fact: "Estrategia: El liderazgo con anticipación mediante IA predictiva te permite controlar y liderar la red sanitaria.",
          next: "Agenda una entrevista y convierte esta recomendación en una iniciativa prioritaria, alineada a objetivos institucionales.",
          color: "#0097a7",
          score: 25,
        },
      };

      // ──────────────────────────────────────────────
      // 3. Carga de datos desde localStorage + simulación
      // ──────────────────────────────────────────────
      const scoreRange = document.getElementById("score-range");
      const scoreDisplay = document.getElementById("score-display");
      const rangeVal = document.getElementById("range-val");
      const circle = document.getElementById("score-circle");
      const levelBadge = document.getElementById("level-badge");
      const levelTitle = document.getElementById("level-title");
      const levelDesc = document.getElementById("level-desc");
      const levelWhy = document.getElementById("level-why");
      const projectTitle = document.getElementById("project-title");
      const projectDetail = document.getElementById("project-detail");
      const levelFact = document.getElementById("level-fact");
      const levelNext = document.getElementById("level-next");
      const cardGlow = document.getElementById("card-glow");
      const userNameDisp = document.getElementById("user-name-display");

      function updateUI(score) {
        let data;
        if (score <= 9) data = levels.inicial;
        else if (score <= 14) data = levels.basico;
        else if (score <= 18) data = levels.intermedio;
        else if (score <= 22) data = levels.avanzado;
        else data = levels.lider;

        scoreDisplay.innerText = score;
        if (rangeVal) rangeVal.innerText = score;

        levelBadge.innerText = data.label;
        levelTitle.innerText = data.title;
        levelDesc.innerText = data.desc;
        levelWhy.innerText = data.why;
        projectTitle.innerText = data.project;
        projectDetail.innerText = data.detail;
        levelFact.innerText = data.fact;
        levelNext.innerText = data.next;

        const offset = 440 - 440 * (score / 25);
        circle.style.strokeDashoffset = offset;
        circle.style.stroke = data.color;

        levelBadge.className =
          score > 18
            ? "inline-block px-6 py-2 bg-level-5/10 text-level-5 text-xs font-bold uppercase tracking-widest border border-level-5/30 rounded-sm transition-all duration-500"
            : "inline-block px-6 py-2 bg-level-1 text-level-5 text-xs font-bold uppercase tracking-widest border border-level-2/40 rounded-sm transition-all duration-500";

        cardGlow.className =
          score > 18
            ? "absolute -top-20 -right-20 w-80 h-80 bg-level-5/30 rounded-full blur-3xl opacity-60 pointer-events-none transition-all duration-700"
            : "absolute -top-20 -right-20 w-80 h-80 bg-level-1 rounded-full blur-3xl opacity-60 pointer-events-none transition-all duration-700";
      }

      // Carga desde localStorage
      function loadData() {
        const stored = localStorage.getItem("clinicalNexusData");
        if (stored) {
          const data = JSON.parse(stored);
          const score = parseInt(data.totalScore) || 9;
          if (data.name && userNameDisp) {
            userNameDisp.innerText = data.name;
          }
          updateUI(score);
          return true;
        }
        updateUI(9);
        return false;
      }

      loadData();

      // Simulador (opcional)
      if (scoreRange) {
        scoreRange.addEventListener("input", (e) =>
          updateUI(parseInt(e.target.value)),
        );
      }

      // ──────────────────────────────────────────────
      // 4. Video modal con controles personalizados
      // ──────────────────────────────────────────────
      let player,
        isPlaying = false,
        isMuted = false;

      function openModal() {
        const modal = document.getElementById("videoModal");
        const container = document.getElementById("videoContainer");
        modal.classList.remove("hidden");

        container.innerHTML = `<iframe id="vimeo-player" src="https://player.vimeo.com/video/851013035?h=8f075d5f2f&autoplay=1&api=1&controls=0&muted=0" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen class="w-full h-full"></iframe>`;

        player = new Vimeo.Player("vimeo-player");

        player.on("play", () => {
          isPlaying = true;
          document.getElementById("play-icon").classList.add("hidden");
          document.getElementById("pause-icon").classList.remove("hidden");
        });
        player.on("pause", () => {
          isPlaying = false;
          document.getElementById("play-icon").classList.remove("hidden");
          document.getElementById("pause-icon").classList.add("hidden");
        });
        player.on("timeupdate", (data) => {
          document.getElementById("progress-fill").style.width =
            data.percent * 100 + "%";
          document.getElementById("current-time").innerText = formatTime(
            data.seconds,
          );
        });

        player
          .getDuration()
          .then(
            (d) =>
              (document.getElementById("duration-time").innerText =
                formatTime(d)),
          );

        player.setVolume(1);
        isMuted = false;

        document.body.style.overflow = "hidden";
      }

      function closeModal() {
        if (player) player.unload();
        document.getElementById("videoModal").classList.add("hidden");
        document.getElementById("videoContainer").innerHTML = "";
        document.body.style.overflow = "auto";
      }

      function formatTime(s) {
        const m = Math.floor(s / 60);
        s = Math.floor(s % 60);
        return `${m}:${s < 10 ? "0" : ""}${s}`;
      }

      document
        .getElementById("play-pause-btn")
        ?.addEventListener("click", () =>
          isPlaying ? player.pause() : player.play(),
        );
      document.getElementById("mute-btn")?.addEventListener("click", () => {
        isMuted = !isMuted;
        player.setMuted(isMuted);
        document.getElementById("vol-on").classList.toggle("hidden", isMuted);
        document.getElementById("vol-off").classList.toggle("hidden", !isMuted);
      });

      document
        .getElementById("fullscreen-btn")
        ?.addEventListener("click", () => {
          const el = document.getElementById("video-wrapper");
          if (el.requestFullscreen) el.requestFullscreen();
          else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();
        });

      document
        .getElementById("progress-container")
        ?.addEventListener("click", (e) => {
          const rect = e.currentTarget.getBoundingClientRect();
          const pos = (e.clientX - rect.left) / rect.width;
          player.getDuration().then((d) => player.setCurrentTime(d * pos));
        });

      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") closeModal();
      });
    </script>
  </body>
</html>
